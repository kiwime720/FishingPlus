<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fishing+</title>

  <!-- Tailwind & Outfit 폰트 -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <!-- Leaflet CSS (✅ integrity 제거) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <!-- 추가 CSS -->
  <link rel="stylesheet" href="../css/home.css" />
  <style>
    #map {
      height: 400px; /* Leaflet 지도 필수 높이 지정 */
    }
  </style>
</head>

<body class="body-wrapper">
  <header>
    <h1><a href="home.html">Fishing+</a></h1>
    <nav>
      <button id="loginBtn">로그인</button>
      <a href="board.html" class="signup">게시판</a>
    </nav>
  </header>

  <div id="main">
    <!-- 검색바, 낚시 모드 토글, 지도, 정보창 등 생략 없이 그대로 유지 -->
    <div id="searchBar">
      <input type="text" id="mapSearch" placeholder="물고기 종류 또는 위치 검색..." />
    </div>

    <div id="fishingModeToggle" class="flex justify-center mb-4 space-x-4">
      <button data-mode="indoor" class="mode-btn px-4 py-2 rounded-lg bg-white/20 hover:bg-white/30 active">실내 낚시</button>
      <button data-mode="boat" class="mode-btn px-4 py-2 rounded-lg bg-white/20 hover:bg-white/30">선상 낚시</button>
    </div>

    <div class="map-container rounded-lg overflow-hidden shadow-lg mb-8">
      <div id="map" class="w-full h-96"></div>
    </div>

    <div id="infoWindow" class="info-window hidden">
      <button id="infoClose" class="info-close">✕</button>
      <div id="infoContent"></div>
    </div>

    <!-- 날씨 및 물고기 정보 박스 생략 없이 유지 -->
    <!-- ... (당신이 붙여놓은 날씨 2개, 물고기 박스 HTML 코드 그대로 유지) ... -->
  </div>

  <!-- 로그인 모달 -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal">
      <h3>로그인</h3>
      <label for="userId">ID</label>
      <input id="userId" type="text" placeholder="아이디 입력" />
      <label for="userPw">PW</label>
      <input id="userPw" type="password" placeholder="비밀번호 입력" />
      <div class="buttons">
        <button class="cancel" id="cancelBtn">취소</button>
        <button class="confirm" id="confirmBtn">확인</button>
      </div>
      <div class="modal-links">
        <a href="signup.html">회원가입</a>
        <span class="separator">|</span>
        <a href="find.html">ID/PW 찾기</a>
      </div>
    </div>
  </div>

  <!-- ✅ Leaflet JS (무결성 제거) -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  ></script>

  <!-- 로그인 모달 토글 -->
  <script>
    document.getElementById("loginBtn").addEventListener("click", () => {
      document.getElementById("modalOverlay").style.display = "flex";
    });
    document.getElementById("cancelBtn").addEventListener("click", () => {
      document.getElementById("modalOverlay").style.display = "none";
    });
    document.getElementById("confirmBtn").addEventListener("click", () => {
      document.getElementById("modalOverlay").style.display = "none";
    });
  </script>

  <!-- ✅ 통합된 지도 & UI 기능 스크립트 (Leaflet 이후에 불러오기) -->
  <script src="../js/home.js" type="module"></script>
</body>
</html>
